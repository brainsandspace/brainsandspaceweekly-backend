(function(v,w,P){v.execute(function(){v.register("postMetric",function(){return{postCountMetric:function(u){if("undefined"!==typeof u){var d=w.ue;if(d){var f=d.count(u)||0;d.count(u,f+1)}}}}});v.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(u,d,f,k){u=u.extend(!0,{},f,k);var c=new d(u);v.register("ImageBlockAPI",function(){return c.api});return c});v.when("A","jQuery","ImageBlockBTF").register("ImageBlockAiryLoader",
function(u,d,f){u=f.airyConfig;u.jsUrl&&v.load.js(u.jsUrl);u.cssUrl&&v.load.css(u.cssUrl)});v.when("A","jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(u,d,f,k,c,a){var b={};return function(e){var h=this;h.dispatch=function(a,e){var f=b[a];c.isDefined(f)&&d.each(f,function(a,b){b.call(w,e)})};h.register=function(a,d){c.isDefined(b[a])||(b[a]=[]);"function"===typeof d&&b[a].push(d)};h.model=new f(e,h);h.view=new k(e,
h,h.model);h.api=new a(e,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});v.when("A","jQuery","imageBlockUtils").register("ImageBlockModel",function(u,d,f){function k(a,b,c,d,e){f.isDefined(a)&&(l.type=a);f.isDefined(b)&&(l.index=b);f.isDefined(c)&&(l.thumbnailIndex=c);f.isDefined(d)&&(l.variant=d);f.isDefined(e)&&(l.color=e)}function c(a){k("image",0,0,"MAIN",a||h.landingAsinColor||h.defaultColor)}function a(a){a=a.data;m=u.copy(l);k(a.type,a.index,a.thumbnailIndex,
a.variant,a.color)}function b(b){a(b);b=u.copy(b);b.data=u.copy(l);g.dispatch("updateView",b)}function e(){m=u.copy(l);c(l.color)}var h,g,l={},m={},q;return function(d,f){g=f;h=d;g.register("updateSelection",b);g.register("updateModel",a);g.register("resetModel",e);this.init=function(){c()};this.getCurrentItem=function(){return u.copy(l)};this.getPreviousItem=function(){return u.copy(m)};this.setCurrentEvent=function(a){q=a};this.getCurrentEvent=function(){return q}}});v.when("ImageBlockBTF").execute(function(u){function d(d,
k,c,a,b){function e(a){"click"===a.type&&A.overrideAltImageClickAction?y.dispatch("thumbActionClick",a):y.dispatch("updateSelection",a)}function h(a){A.useClickZoom||y.dispatch("imageClick",a)}function g(a){A.useClickZoom||y.dispatch("imageHover",a)}function l(b){!c.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(t.update(b),"swatchHover"!==b.type&&u.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&a.postCountMetric(b.data.type+"ThumbnailSelected"),d.trigger("image-block-thumbnail-selected",
b.data)):t.render(b.data.color,!1,b.onload)}function m(a){y.dispatch("resize",a)}function q(a){c.selectThumbnail(a,v)}function n(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function r(a){var b=u.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}var t,A,y,u,v;return function(a,c,F){t=this;A=a;y=c;u=F;v=k("#imageBlock #altImages ul");var D=k("#imageBlock .canvas"),M=k("#main-image-container"),G;t.subViews=[];for(c=0;c<b.length;c++)t.subViews.push(new b[c](a,
F,t,y));t.render=function(a,b,c){var d=0;v.find(".item").remove();a=a||u.getCurrentItem().color;k.each(t.subViews,function(e,g){d=g.render(a,d,D,v,M,b,c)||d});var e=v.find(".a-button-selected").closest(".a-declarative");G=r(e)};t.init=function(){v=k("#imageBlock #altImages ul");var a=v.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=A.landingAsinColor||A.defaultColor;y.dispatch("updateModel",{data:a});t.render(a.color,!0);A.isDebug&&w.console&&console.log(A);
y.register("updateView",l);y.register("selectThumbnail",q);A.disableHoverOnAltImages||d.declarative("thumb-action",["mouseenter","mouseleave"],e);d.declarative("thumb-action",["click"],e);d.declarative("main-image-click",["click"],h);d.declarative("main-image-click",["mouseenter","mouseleave"],g);k(w).resize(m)};t.update=function(a){k.each(t.subViews,function(b,c){c.update(a)});A.usePeekHover&&("mouseleave"===a.type?y.dispatch("updateSelection",G):"click"===a.type&&(G=n(a)||G))}}}u=["A","jQuery",
"imageBlockUtils","postMetric"].concat(u.views);v.when.apply(v,u).register("ImageBlockView",function(){for(var f=arguments[0],k=arguments[1],c=arguments[2],a=arguments[3],b=[],e=4,h=arguments.length;e<h;e++)b.push(arguments[e]);return d(f,k,c,a,b)})});v.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockAltImageView",function(u,d,f,k,c){function a(a,b,c,e){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var g=z.getCurrentItem();if(!e||"chromeless-video"!==
g.type||!p.autoplayVideo){e=0;"image"===g.type&&(e=Math.max(h(g.color,g.variant),0));var k=b+e;k>=c&&(e=0,k=b);b=f.getImageHash(g.color,e,p);-1!==b&&(F.dispatch("updateModel",{data:{index:e,thumbnailIndex:k,variant:b.variant,type:"image"}}),b=a.find(".item").get(k),f.selectGivenThumbnail(d(b),a))}}}function b(b,c,e){c=p.colorImages&&p.colorImages[c];var g=b;f.isDefined(c)&&(d.each(c,function(a,c){b<p.maxAlts&&(f.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,D),
b++)}),a(D,g,b,e));return b}function e(a,b){if("image"===a.type){var c=d("#image-canvas-caption #canvasCaption"),e,g=p.staticStrings,f=p.colorImages,h=a.color,k=a.index;b&&p.useIV?e=g.clickToExpand:f[h]&&f[h][k].hiRes&&p.useHoverZoom?(e=p.useHoverZoomIpad?g.touchToZoom:p.useClickZoom?g.clickToZoom:g.rollOverToZoom,p.hoverZoomIndicator&&(e="<img src='"+p.staticImages.hoverZoomIcon+"'/>&nbsp;"+e)):p.useIV&&(e=g.clickToExpand);c.html(e)}}function h(a,b){return f.getIndexForVariant(a,b,p)}function g(a,
b){var c;d.each(a.main,function(a,b){f.isDefined(c)||(c=parseFloat(b[1]/b[0])<=parseFloat(p.holderRatio)?"a-stretch-vertical":"a-stretch-horizontal")});var e="a-dynamic-image "+c,g=f.getMaxDimensionsOfMainImage(a.main,G,p),h=g[0],k=g[1],g=d("<div></div>"),h={"max-height":h,"max-width":k};g.addClass(e).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return g}function l(a){var b=M.find(".swatchHoverExp");a=g(a);b.find(".imgTagWrapper").html(a);
u.loadImageManually(a);return b}function m(a){var b=G.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function q(a,b){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var d=f.getImageHash(a.color,a.index,p);if(-1===d)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(a,z,p)?t(a,!1,b):(F.dispatch("updateModel",d),f.showUnavailable(a.color)),
-1;var h=M.find(".item.itemNo"+a.thumbnailIndex);if(!f.isjQueryObjDefined(h)){var h=a.thumbnailIndex,h=M.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+h+" maintain-height"),k=g(d,b);h.find(".placeHolder").replaceWith(k);M.find(".list").append(h);u.loadImageManually(k)}m(h);F.dispatch("loadMagnifier");e(a);p.useIV&&f.isDefined(d.hiRes)&&h.css("cursor","pointer");a.isUserGenerated&&(h=z.getPreviousItem(),k=a.variant,f.isDefined(k)&&h.thumbnailIndex!==
a.thumbnailIndex&&(c.postCountMetric("ImageThumbnailSelectedVariant:"+k),0===k.indexOf("IG")&&(c.postCountMetric("IGImageSelectedVariant:"+k),c.postCountMetric("IGImageSelectedEvent:"+a.interaction))));u.trigger("dp:image-block:update",d)}}function n(a){var b=Math.max(h(a.color,z.getCurrentItem().variant),0),b=f.getImageHash(a.color,b,p);if(-1===b)return f.lazyLoadingRequired(a,z,p)?f.lazyLoadOnHoverEnabled(p)&&(r(".3",!0),f.spinner(M,!0),u.delay(function(){z.getCurrentEvent().data===a&&t(a,!0)},
500)):f.showUnavailable(a.color),-1;var c=l(b);m(c);u.trigger("dp:image-block:update",b)}function r(a,b){b?M.css("opacity",a):d("#imageBlock").css("opacity",a)}function t(a,b,c){ia=b;N=c;var d=a.color,e=p.colorToAsin[d];if(e&&e.asin){var g={};g.params={asin:e.asin,productGroupID:p.productGroupID,color:d};g.success=function(g){g?(f.ajaxState(e.asin,"success"),p.colorImages[d]=g.colorImage,d===a.color&&(b&&ia?a===z.getCurrentEvent().data&&(A(a),n(a)):(g={type:"updatedData",data:z.getCurrentItem(),onload:c||
N},F.dispatch("updateView",g))),v.register(f.rankedImagesReadyEvent(e.asin))):f.ajaxState(e.asin,"fail")};g.error=function(){f.ajaxState(e.asin,"fail")};g.indicator=f.spinner(M);f.ajaxState(e.asin,void 0)&&"fail"!==f.ajaxState(e.asin,void 0)||(r(".3",b),k.load("/gp/product/features/apparel-main-image/ranked-images.html",g),f.ajaxState(e.asin,"sent"));return p.colorImages&&p.colorImages[d]}}function A(a,b){f.lazyLoadingRequired(a,z,p)||(d("#imageBlock").css("opacity","1"),M.css("opacity","1"),f.spinner(M,
!1),M.find("li").removeClass("selected"),d("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),b&&M.find(".list .item").remove())}function y(){var a=M.find(".item .imgTagWrapper"),b=f.getContainerHeight(G,p.holderRatio,p.holderMaxHeight);0<b&&(G.height(b),a.height(b));M.find("img.a-dynamic-image").each(function(){var a=d(this);a.data("a-manual-replacement")&&u.loadDynamicImage(this);var b=a.data("a-dynamic-image"),b=f.getMaxDimensionsOfMainImage(b,G,p);a.css({"max-height":b[0]+"px",
"max-width":b[1]+"px"})})}function w(a){e(z.getCurrentItem(),"mouseenter"===a.type)}var E,p,z,F,D,M,G,ia,N;return function(a,c,d,e){E=this;p=a;z=c;F=e;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];E.render=function(a,c,d,e,g,h,k){M=d;D=e;G=g;a=b(c,a,h);h||(c=z.getCurrentItem(),f.lazyLoadingRequired(c,z,p)&&F.dispatch("updateModel",{data:{type:"lazy-loaded"}}));A(z.getCurrentItem(),!h);q(z.getCurrentItem(),k);return a};E.update=function(a){var b=a.data;z.setCurrentEvent(a);"ingress"!==
b.type&&A(a.data,!1);"swatchHover"===a.type?b.color===z.getCurrentItem().color?q(z.getCurrentItem()):a.captured||-1===n(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,q(b),p.usePeekHover&&"click"!==a.type||f.selectGivenThumbnail(a.$declarativeParent,D))};F.register("imageHover",w);F.register("resize",y)}});v.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockMagnifierView",function(u,d,f,k){function c(a){n?a.css("cursor","url('"+g.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function a(a){var b=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(b))for(var b=b[1].split("_"),c=0;c<b.length;c++){var d=b[c].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(d)&&(a[d[1]]=parseInt(d[2],10))}return a}function b(b,e){function h(){var a;e.useClickZoom?(a=e.offsetInClickZoom,a=[Math.min(1,Math.max(0,v[0]-(J[0]+a))/(J[2]-2*a)),Math.min(1,Math.max(0,v[1]-(J[1]+a))/(J[3]-
2*a))]):a=G&&G.updatePosition();if(a&&u&&u.detailSize){var b=[u.detailSize[0]-u.rect.width,u.detailSize[1]-u.rect.height];u.detailImage.get(0).style.left=-(a[0]*b[0])+"px";u.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function l(a){var b=O?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";v=O?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function m(a){O&&a.preventDefault();l(a);e.useClickZoom?a=[J[0],J[1],J[0]+J[2],J[1]+J[3]]:(a=G?G.offset:b.offsetParent().offset(),a=[N[0]+a.left,N[1]+a.top,
N[0]+N[2]+a.left,N[1]+N[3]+a.top]);v[0]<a[0]||v[1]<a[1]||v[0]>=a[2]||v[1]>=a[3]?(e.fadeMagnifier?S||(S=!0,T=setTimeout(function(){q(!0)},500)):e.useClickZoom||q(),U&&(U=!1,clearTimeout(Y))):(U||(U=!0,Y=setTimeout(function(){k.postCountMetric("dppc_hoverZoomOpened")},1E3)),e.fadeMagnifier&&S&&(S=!1,clearTimeout(T)),h())}function q(a){a&&F.suppressMagnifier(!0);if(P&&(u&&u.hide(),G&&(G.destroy(),G=null),P=!1,O?(b.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),d(document).trigger("disengaged.magnifier")):
d(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),z(),a))b.one("click.magnifier touchstart.magnifier",function(a){p(a,!0)})}function p(a,c){c&&F.suppressMagnifier(!1);if(!P&&!K&&(0===Z&&(k.postCountMetric("dppc_hoverTime",new Date-(w.ue&&w.ue.t0||0)),Z=1),Q[L]||(k.postCountMetric("dppc_hoverMain"),Q[L]=1),N=[b.position().left,b.position().top,b.width(),b.height()],L&&(l(a),u?u.refit().show():u=new R,e.useClickZoom||(G=G||new I),J=u.getWindowSize(),h()),P=!0,O?(b.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",
m).bind("touchend.magnifier",q),d(document).trigger("engaged.magnifier")):(b.unbind("mousemove.magnifier"),d(document).trigger("engaged.magnifier").bind("mousemove.magnifier",m)),c)){var g=d("#zoomWindow");if(0<g.length)g.one("click.magnifier touchend.magnifier",function(a){q(!0)})}}function z(){e.useHoverZoom&&(O?b.bind("touchstart.magnifier touchmove.magnifier",p):b.bind("mousemove.magnifier",p))}var F=this,D={detailImageUrl:b.attr("data-old-hires"),location:"over",locationElement:b,prelaod:"ready",
zIndex:50,offsetInClickZoom:50};e=d.extend(D,e);e.adjustment=[10,0,-10,0];var u=null,G=null,v=null,N=null,J=null,H={"null":1,"":1,undefined:1},P=!1,K=!1,L=e.detailImageUrl,O=e.useHoverZoomIpad||0,Z=0,Q={},I=function(){function a(c){var d=Math.round(Math.min(b.width(),u.rect.width/c));c=Math.round(Math.min(b.height(),u.rect.height/c));m.css({width:d,height:c});h=[d,c]}var f=this,h=[0,0],k=(u.detailSize&&u.detailSize[0]||5E8)/N[2],l=(u.detailSize&&u.detailSize[1]||5E8)/N[3],k=l>k?l:k;d("#magnifierLens").remove();
var m=d("<div id='magnifierLens' />").css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")",position:"absolute"});g.showMagnifierOnHover?c(m):m.css("cursor","pointer");f.updatePosition=function(){var a=[N[2]-h[0],N[3]-h[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(v[0]-h[0]/2-N[0]-f.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(v[1]-h[1]/2-N[1]-f.offset.top)/a[1])),d=N[0]+Math.round(b*a[0]),a=N[1]+Math.round(c*a[1]);m.get(0).style.left=d+"px";m.get(0).style.top=a+"px";return[b,
c]};f.destroy=function(){m.remove()};f.offset=b.offsetParent().offset();a(k);f.updatePosition();m.appendTo(b.parent());u.detailImage[0].complete||u.detailImage.load(function(){var b=u.detailImage.width()/N[2];a(b);f.updatePosition()})};I.preload=function(){F.preload(e.generalImageUrls.lensBackgroundUrl)};var R=function(){function c(){var a={};if("over"===e.location){var a=e.useClickZoom,g={},h=d("#leftCol"),m=d("#centerCol"),n=d("#rightCol"),q=d("#hover-zoom-end"),z=d("#actionPanelContainer"),D=f.isjQueryObjDefined(h)?
h.outerHeight():m.outerHeight();g.top=f.isjQueryObjDefined(h)?h.offset().top:m.offset().top;g.bottom=D+g.top;g.right=f.isjQueryObjDefined(n)?n.offset().left:z.offset().left;g.left=a?0:h.offset().left+h.outerWidth();f.isjQueryObjDefined(q)&&q.offset().top>g.bottom&&(g.bottom=q.offset().top);a=g}else"right"===e.location&&(a=b.offset(),a={left:a.left+b.outerWidth(),top:a.top,right:a.left+b.outerWidth()+400,bottom:a.top+400});e.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+d(e.minHeightElement).outerHeight()));
a.bottom=Math.min(a.bottom,d(w).scrollTop()+d(w).height());a.left+=l[0];a.top+=l[1];a.right+=l[2];a.bottom+=l[3];a.width=a.right-a.left;a.height=a.bottom-a.top;e.enhancedHoverOverlay&&f.isDefined(w.pageXOffset)&&(g=d(w).width(),a.width=g-a.left+w.pageXOffset-18,a.height-=14);p.css({left:a.left,top:a.top,width:a.width,height:a.height});k.rect=a;return k}function g(b){var c=new Image;k.detailSize=[0,0];c.onload=function(){k.detailSize=[c.width,c.height];h()};c.src=b.attr("src");if(0<c.width&&0<c.height)k.detailSize=
[c.width,c.height];else if(e.detailImageSize)k.detailSize=e.detailImageSize;else{b=a(c.src);var d=N[2]/N[3];b.SS||b.AA?(b=b.SS||b.AA,k.detailSize=[b,b]):b.SX?k.detailSize=[b.SX,Math.round(b.SX/d)]:b.SY?k.detailSize=[Math.round(b.SY*d),b.SY]:b.SL&&(k.detailSize=1<=d?[b.SL,Math.round(b.SL/d)]:[Math.round(b.SL*d),b.SL])}}var k=this,l=e.adjustment;d("#zoomWindow").remove();var m={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(m.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
m.border="1px solid #949494",m.borderColor="rgb(148,148,148)");var p=d("<div id='zoomWindow' />").css(m);e.fadeMagnifier&&p.fadeIn(200);e.useClickZoom&&(n?p.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));k.updateImage=function(a){a=d("<img id='detailImg' src='"+a+"'/>").css("position","absolute");k.detailImage&&k.detailImage.remove();p.append(a);d(document).trigger("updated.magnifier");k.detailImage=a;
g(k.detailImage)};k.refit=function(){c();g(k.detailImage);return k};e.fadeMagnifier?(k.show=function(){p.fadeIn(200);return k},k.hide=function(){p.fadeOut(200);return k}):(k.show=function(){p.show();return k},k.hide=function(){p.hide();return k});k.destroy=function(){p.remove();return k};k.getWindowSize=function(){return[k.rect.left,k.rect.top,k.rect.width,k.rect.height]};k.updateImage(L);c();p.appendTo(document.body)},S=!1,T,U=!1,Y;F.preload=function(a){a=d.makeArray(a);for(var b=a.length,c=0;c<
b;c++)a[c]instanceof Array?F.preload(a[c]):"string"===typeof a[c]&&a[c]&&!H[a[c]]&&(H[a[c]]=new Image,H[a[c]].src=a[c])};F.changeImage=function(a,c){P&&q();L=c;b.attr("src",a);F.preload(a);N=[b.position().left,b.position().top,b.width(),b.height()];c&&("immediately"===e.preload?F.preload(c,!0):d(w).ready(function(){F.preload(c)}),u?u.updateImage(c):b.attr("data-old-hires",c))};F.destroy=function(){b.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");d(document).unbind("mousemove.magnifier");
G&&G.destroy();G=null;u&&u.destroy();u=null};F.detailImage=function(){return u.detailImage};F.suppressMagnifier=function(a){K=a};F.isEngaged=function(){return P};F.engageMagnifier=p;F.disengageMagnifier=q;b[0].complete?z():b.one("load",z);F.preload(b.attr("src"));if(e.preload){var ha=e.detailImageUrl,D=function(){F.preload(ha,!0);e.useClickZoom||I.preload()},da=e.preload;da.constructor!==Array&&(da=[da]);for(var na=0;na<da.length;na++)if("immediately"===da[na])D();else if(d(w)[da[na]])d(w)[da[na]](D);
else d(w).bind(da[na],D)}return F}function e(){if(g.useHoverZoom){var a={adjustment:[0,0,1,1],generalImageUrls:g.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:g.useHoverZoomIpad,useHoverZoom:g.useHoverZoom,useClickZoom:g.useClickZoom,fadeMagnifier:g.fadeMagnifier,zoomOutIcon:g.staticImages.zoomOutCur,enhancedHoverOverlay:g.enhancedHoverOverlay};m&&(m.destroy(),m=P);var c=q.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");
f.isjQueryObjDefined(c)&&(g.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(d){m=new b(c,a);m.engageMagnifier(d,!0)}),n?c.css("cursor",'url("'+g.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):m=new b(c,a))}}var h,g,l,m,q,n=navigator.userAgent.match(/msie|trident/i);return function(a,b,c,d){h=this;g=a;l=d;h.render=function(a,b,c,d,e,g){q=c;m&&(m.destroy(),m=P)};h.update=function(a){};l.register("loadMagnifier",
e);l.register("resize",e)}});v.when("A","jQuery","imageBlockUtils").register("ImageBlockTwisterView",function(u,d,f){function k(a,c,d){a=(a=d?d:f.getColorFromState(c.getState().hovered_variations,b))&&""!==a?a:b.defaultColor;h.dispatch("updateView",{type:"swatchHover",data:{color:a}})}function c(a,c,d,k){a=(a=k?k:f.getColorFromState(c.getState().selected_variations,b))&&""!==a?a:b.defaultColor;a===e.getCurrentItem().color?"function"===typeof d&&d():h.dispatch("updateSelection",{type:"swatchClick",
data:{color:a},onload:d})}var a,b,e,h;return function(d,f,m,q){a=this;b=d;e=f;h=q;u.on("image-block-twister-swatch-hover",k);u.on("image-block-twister-swatch-click",c);a.render=function(a,b,c,d,e){};a.update=function(a){}}});v.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockVideoView",function(u,d,f,k,c,a){function b(a,b,c,e){!n.autoplayVideo||D||n.useChromelessVideoPlayer?!k.isjQueryObjDefined(a.find(".a-button-selected"))&&(c=r.getCurrentItem(),
!e||n.prioritizeVideos||"chromeless-video"===c.type&&n.autoplayVideo)&&(e=g(c.color,0),-1!==e&&(b+=0,t.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:e.variant,type:n.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=a.find(".item").get(b),k.selectGivenThumbnail(d(b),a))):(k.selectGivenThumbnail(a.find("img:last"),a),k.fadeToThumbnail(a.find("img").length-1,E,a))}function e(a){if(!n.useChildVideos)return k.lazyLoadingRequired(r.getCurrentItem(),r,n)?void 0:n.videos;
if(n.colorToVideo[a])return n.colorToVideo[a];var b=n.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:n.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:n.useChromelessVideoPlayer,isUDP:n.isUDP};d.success=function(c){var d=function(){if(c){n.colorToVideo[a]=c;var b={type:"updatedData",data:r.getCurrentItem()};t.dispatch("updateView",b)}};n.lazyLoadExperienceDisabled?d():v.when(k.rankedImagesReadyEvent(b.asin)).execute(function(){d()})};c.load("/gp/product/features/apparel-main-image/videos.html",
d);return n.colorToVideo&&n.colorToVideo[a]}}function h(b,c,e,g){return f.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:c.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var c=k.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";a.postCountMetric("dppc_chromelessVideo:"+c)},playing:function(){b.parent().css("z-index",
8)},videounsupported:function(){t.dispatch("selectThumbnail",0);a.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){t.dispatch("selectThumbnail",0);a.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){p.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,c,e){a=e.durationSeconds-e.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){b.parent().css({"background-color":"transparent",
"z-index":-1});t.dispatch("selectThumbnail",0);d(this).show().css("opacity",1)})}}]})}function g(a,b){var c;if(n.useChildVideos){if(!k.isDefined(n.colorToVideo))return-1;c=n.colorToVideo[a]}else c=n.videos;return k.isDefined(c)&&k.isDefined(c[b])&&k.isDefined(c[b].url)?c[b]:-1}function l(a){if("chromeful-video"===a.type||"chromeless-video"===a.type){var b=g(a.color,a.index);if(-1===b)return-1;if("chromeful-video"===a.type){a=E.width()/E.height();var c=parseInt(b.videoWidth,10),d=parseInt(b.videoHeight,
10);y.parent().css("z-index",2);0!==d&&0!==c&&(c/=d,a>c?y.css("width",c/a*100+"%"):y.css("height",a/c*100+"%"));p?(p.show(),k.loadMediaIntoAiry(p,b,z),w.show()):(p=k.createAiryInstanceForChromeful(y,b,z,null,n.autoplayVideo,E,w,A),w.find("#videoCaption").text(n.staticStrings.playVideo));b=p;n.autoplayVideo&&b&&!D&&(k.toggleVideoCaption(w),b.setVolume(0),b.show(),b.play(),D=!0)}else p?(p.show(),k.loadMediaIntoAiry(p,b,z),p.play()):(p=h(y,b,z))&&p.play()}}function m(c,g,f){g=e(g);var h=c;k.isDefined(g)&&
0<g.length&&n.alwaysIncludeVideo&&c===n.maxAlts&&(A.find(".item:last").remove(),c--);k.isDefined(g)&&(d.each(g,function(b,d){if(c<n.maxAlts){var e=n.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";k.createThumbnail({type:e,index:b,thumbnailIndex:c,variant:d.variant},d.thumb,A);F||(F=!0,a.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));c++}}),b(A,h,c,f));return c}var q,n,r,t,A,y,w,E,p,z,F=!1,D=!1;return function(a,b,c,e){q=this;
n=a;r=b;t=e;z=n.airyConfig;n.colorToVideo={};n.colorToVideo[n.landingAsinColor]=n.colorToVideo[n.defaultColor]=n.videos;q.render=function(a,b,c,e,g,f){A=e;y=g.find("#main-video-container");w=y.parent().find("#video-canvas-caption");E=d("#main-image-container");n.useChromelessVideoPlayer||y.addClass("chromeful-container");a=m(b,a,f);l(r.getCurrentItem());return a};q.update=function(a){var b=a.data;"ingress"!==b.type&&p&&(p.hide(),y.parent().css("z-index",-1),w.hide());if("swatchHover"===a.type)b.color===
r.getCurrentItem().color?l(r.getCurrentItem()):a.captured||k.lazyLoadingRequired(b,r,n)&&!k.lazyLoadOnHoverEnabled(n)&&l(r.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)l(b),n.usePeekHover&&"click"!==a.type||k.selectGivenThumbnail(a.$declarativeParent,A)}}});v.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","postMetric").register("ImageBlockImmersiveView",function(u,d,f,k,c,a){function b(a){return a.hiRes||a.large||a.main[a.main.length-1]}
function e(a,b){var d=u.copy(a);if(c.isDefined(a)&&a.length>b){try{for(var e=-1,g=0;g<a.length;g++){var f=a.charAt(g);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)e=g;if(g===b-4){d=a.substring(0,-1===e?g:e);break}}}catch(h){d=a.substring(0,b-3)}d+="..."}return d}function h(a){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");var b=a.lastIndexOf(".");return a="_"===a.charAt(b-
1)?a.substring(0,b-1)+"_AA50_"+a.substring(b):a.substring(0,b)+"._AA50_"+a.substring(b)}function g(){K.find("#ivTitle").click(function(){P.hide()})}function l(a,b){var c=parseInt(a.css(b),10);return isNaN(c)?0:c}function m(){var a=K.find("#ivStage"),b=P.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-l(c,"padding-top")-l(c,"padding-bottom");K.css("height",b);var c=K.find("#ivTitle").outerHeight(!0),d=K.find("#ivVariationSelection").outerHeight(!0),e=K.find("#ivMediaSelection").outerHeight(!0),
g=K.find("#ivThumbs"),f=l(g,"margin-top")+l(g,"margin-bottom");g.css("height",b-c-d-e-f);K.find("#ivLargeImage").css("height",b);a.css("width",K.width()-l(K,"padding-left")-l(K,"padding-right")-K.find("#ivThumbColumn").width()-l(a,"margin-left")-l(a,"margin-right"))}function q(){K.find("#ivMediaSelect").change(function(){var a=k(this).val();"all"===a?(K.find("#ivVideoList").hide(),K.find("#ivThumbs").show(),K.find(".ivThumbVideo").show(),"chromeful-video"===S.type&&K.find("#ivVideo_"+S.index).click()):
"images"===a?(K.find("#ivVideoList").hide(),K.find("#ivThumbs").show(),K.find(".ivThumbVideo").hide(),"chromeful-video"===S.type&&K.find("#ivImage_0").click()):"videos"===a&&(K.find("#ivVideoList").show(),K.find("#ivThumbs").hide(),"image"===S.type?K.find("#ivVideoList_0").click():K.find("#ivVideoList_"+S.index).click())})}function n(){var a=K.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&
(e=d[0].naturalWidth),d[0].naturalHeight&&(g=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,g=0===g?1:g,f=Math.min(b/e,c/g),h=g*f,k=e*f;1>f?(Y?a.css("cursor","url('"+N.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),na=!0):na=!1;e=Math.min(k,e);g=Math.min(h-20,g);d.css({"margin-top":(c-g)/2,"margin-left":(b-e)/2,height:g,width:e});a.css("visibility","visible");da=!1}function r(a){var b=K.find("#ivLargeImage");
b.css("visibility","hidden");b.empty();b.animate({opacity:1},200);b.append(a);n()}function t(a){T&&T.hide();K.find("#ivLargeVideo").css("display","none");K.find("#ivLargeImage").css("display","block");var d;"hero-image"===a?c.isDefined(L)&&(d=b(L[S.index])):c.isDefined(O)&&(d=b(O[S.index]));if(c.isDefined(d)){K.find(".fullscreen").remove();var e=k("<img>").attr("src",d).addClass("fullscreen"),g=K.find("#ivLargeImage");g.animate({opacity:.4},200,function(){e.load(function(){r(e)});if(e[0].complete)r(e);
else{g.empty();var a=(g.height()-104)/2,b=(g.width()-80)/2;k("<img>").attr("src",N.staticImages.spinner).css({position:"relative",top:a+"px",left:b+"px"}).appendTo(g)}})}}function A(){var a=parseInt(S.index,10)+1;a>=Z.length||K.find("#ivVideo_"+a).click()}function y(){var a;c.isDefined(Z)&&(a=Z[S.index]);if(c.isDefined(a)){K.find("#ivLargeImage").css("display","none").empty();var b=K.find("#ivLargeVideo").css("display","block");T?(T.isDetached()&&T.attach(b[0]),c.loadMediaIntoAiry(T,a,U),T.show()):
(T=c.createAiryInstanceForChromeful(b,a,U,"ImmersiveView"),U.enableContinuousPlay&&T.bind("ended",A));T.play({isAsync:!0})}}function v(){S=J.getCurrentItem();var a;a="hero-image"===S.type?K.find("#ivHeroImage_"+S.index):"image"===S.type?K.find("#ivImage_"+S.index):"chromeful-video"===S.type||"chromeless-video"===S.type?K.find("#ivVideo_"+S.index):c.isDefined(L)?K.find("#ivHeroImage_"+S.index):K.find("#ivImage_"+S.index);c.isjQueryObjDefined(a)||(a=K.find("#ivImage_0"));E(a)}function E(a){K.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(S.type="chromeful-video",S.index=a.attr("id").split("_")[1],y()):(a.hasClass("ivHeroImage")?S.type="hero-image":S.type="image",S.index=a.attr("id").split("_")[1],t(S.type))}function p(){K.delegate(".ivThumb","click",function(){var a=k(this);E(a)});K.delegate(".ivThumbVideoListOuter","click",function(){K.find(".ivThumbVideoListOuter").removeClass("selected");var a=k(this);a.addClass("selected");S.type="chromeful-video";S.index=a.attr("id").split("_")[1];
y()})}function z(){T&&!T.isDetached()&&(U.volume=T.getVolume(),T.detach(),!document.all||w.atob||document.addEventListener||(T=null));K.find("#ivLargeImage").empty()}function F(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function D(a){var b=sa.top-(a.pageY-qa[1])*ea;a=F(sa.left-(a.pageX-qa[0])*ea,X.left);b=F(b,X.top);K.find(".fullscreen").css({left:a,top:b})}function M(){K.delegate("#ivLargeImage","click",function(a){if(da)n();else if(na){K.find(".fullscreen").removeAttr("style");if(na){var b=K.find("#ivLargeImage"),
c=b.find(".fullscreen");Y?b.css("cursor","url('"+N.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));da=!0;var d=K.find("#ivLargeImage");X.left=d.width()-c.width();X.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;qa=[b.offset().left+e,b.offset().top+d];sa.top=d-c.height()/2;sa.left=e-c.width()/2;c.css({position:"relative",left:sa.left,top:sa.top});ea=Math.max(c.height()/b.height(),c.width()/b.width())}D(a)}});
K.delegate("#ivLargeImage","mousemove",function(a){da&&D(a)})}function G(){var b;(b=!N.useIV)||(b=J.getCurrentItem().color,b=N.colorImages&&N.colorImages[b]&&0<N.colorImages[b].length?!0:!1,b=!b);if(!b){a.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(P))P.show();else{b=k("#auiImmersiveViewDiv");var g=k(w).height()-150,f=k(w).width()-75;P=d.create(b,{name:"immersiveView",activate:"onclick",width:f,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(ha){K=k("#ivMain");b=
J.getCurrentItem().color;O=N.colorImages[b];L=N.heroImage[b];Z=N.useChildVideos?N.colorToVideo[b]:N.videos;S=J.getCurrentItem();Q=R=I=0;c.isDefined(L)&&(Q=L.length);c.isDefined(O)&&(I=O.length);c.isDefined(Z)&&(R=Z.length);b=K.find("#ivTitle");b.attr("title",N.title);b.text(e(N.title,45));if(c.isDefined(w.DetailPage)&&c.isDefined(w.DetailPage.StateController)){b=K.find("#ivVariationSelection");b.empty();var g=w.DetailPage.StateController.getState(),f=g.variation_label_order,l;for(l in f)if(f.hasOwnProperty(l)){var m=
f[l],n=g.selected_variations[m],m=g.variation_display_labels[m];n&&k("<div/>").addClass("ivVariations").text(m+":"+n).appendTo(b)}}l=K.find("#ivMediaSelect");0===I||0===R?(l.parent().hide(),K.find("#ivThumbs").addClass("noMediaSelection")):(l.empty(),k("<option/>").attr("value","all").prop("selected",!0).text(N.staticStrings.allMedia+" ("+(Q+I+R)+")").appendTo(l),k("<option/>").attr("value","images").text(N.staticStrings.images+" ("+(Q+I)+")").appendTo(l),k("<option/>").attr("value","videos").text(N.staticStrings.videos+
" ("+R+")").appendTo(l),l.parent().show(),l.val("all"));l=K.find("#ivThumbs");l.find(".ivRow").not(".placeholder").remove();b=Q+I+R;for(f=g=0;g<b;)for(n=l.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(l),m=0;3>m&&g<b;m++,g++,f++)if(f<Q){var p=L[g].thumb,q=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(n);q.find(".ivThumbImage").css("background",'url("'+h(p)+'") center no-repeat')}else if(f>=Q&&
f<I+Q)p=O[g-Q].thumb,q=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-Q)).appendTo(n),q.find(".ivThumbImage").css("background",'url("'+h(p)+'") center no-repeat');else if(p=Z[g-I-Q],q=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-I-Q)).appendTo(n),q.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),c.isDefined(p)){var t={position:"triggerTop"},r=K.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
r.find(".ivVideoPopoverTitle").text(p.title);r.find(".ivVideoPopoverDuration").text(p.durationTimestamp);t.inlineContent=r[0];u.declarative.create(q,"a-tooltip",t)}l=K.find("#ivVideoList");l.find(".ivThumbVideoListOuter").not(".placeholder").remove();b=l.find(".placeholder");for(g=0;g<R;g++)f=Z[g],n=b.clone().removeClass("placeholder").appendTo(l),n.attr("id","ivVideoList_"+g),n.find(".ivThumbImage").css("background",'url("'+f.thumbUrl+'") center no-repeat'),n.find(".ivThumbTitle").text(f.title),
n.find(".ivThumbDuration").text(f.durationTimestamp);U=N.airyConfig;ha=!1;xa()}}}var ia,N,J,H,P,K,L,O,Z,Q,I,R,S,T,U,Y=navigator.userAgent.match(/msie|trident/i),ha=!0,da=!1,na=!1,X={},sa={},ea,qa,xa=u.once(function(){q();p();M();u.on("a:popover:afterUpdatePosition:immersiveView",m);u.on("a:popover:afterShow:immersiveView",v);u.on("a:popover:afterHide:immersiveView",z);g()});return function(a,b,c,d){ia=this;N=a;J=b;H=d;ia.render=function(a,b,c,d,e,g){ha=!0};ia.update=function(a){};H.register("imageClick",
G)}});v.when("A","jQuery","imageBlockUtils").register("ImageBlockLoader",function(u,d,f){return{load:function(d,c){c=c||{};c.timeout=c.timeout||4E3;u.ajax(d,c)}}});v.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF").register("imageBlockUtils",function(u,d,f,k,c,a){function b(a){return null!==a&&"undefined"!==typeof a}function e(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[1],10);d>b&&(b=d)});return b}function h(a){var b=0;d.each(a,function(a,c){var d=
parseInt(c[0],10);d>b&&(b=d)});return b}function g(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=e(a);0<a&&(b=Math.min(b,a));return b}function l(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=h(a);0<a&&(b=Math.min(b,a));return b}function m(a){var c;d.each(a,function(a,d){b(c)||(c=d[1]/d[0])});return c||1}function q(a,b,c){b.fadeTo(500,0,function(){r(a,c);b.fadeTo(500,1)})}function n(a){a&&a.toggle()}function r(a,c){var e=c.find("img");b(e[a])&&d(e[a]).click()}function t(a,b){z[a]=
b?b:z[a];return z[a]}function A(a,c,e){e=e||p;e=e.colorImages;if(1>e.length||!b(e[a])||!b(c))return-1;var g=-1;d.each(e[a],function(a,b){b.variant===c&&(g=a)});return g}function y(a,c,e){e=e||p;e=e.colorImages;return!(b(e)&&b(e[a])&&b(e[a][c])&&b(e[a][c].main))||1>d.map(e[a][c].main,function(a,b){return b}).length?-1:e[a][c]}var v,E,p=d.extend(!0,{},c,a),z={};return{isDefined:b,isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:m,getMaxHeightOfMainImage:l,getMaxWidthOfMainImage:g,
getMaxDimensionsOfMainImage:function(a,b,c){var d=l(a,b,c);b=g(a,b,c);a=m(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,c,d){var e=a.get(0);a=0;if(b(e)){a=e.offsetWidth/c;a=Math.min(a,d);var g;c=p.mainImageHeightPartitions;d=p.mainImageMaxSizes;if(b(d)&&b(c)){for(var f=0,h=w.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<c.length;e++)h>c[e]&&(f=e+1);d.length>=f&&(g=d[f])}b(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,
b){if(a){b=b||p;var c="";d.each(b.visualDimensions,function(b,d){a[d]&&(c+=" "+a[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,c){var d=c.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=b;d.find(".placeHolder").replaceWith(e);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&d.addClass("heroImageThumbnail");u.declarative.create(d,"thumb-action",a);c.append(d)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");
b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,e,g,h,l,m){var p=d.extend({},c.foresterMetadataParams);null!==e&&(p.method+="."+e);var t=[];b.disabledViewIds&&(t=b.disabledViewIds);return f.embed({parentElement:a[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:c.swfUrl,foresterMetadataParams:p,
backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===e?v||(v=!0,k.postCountMetric("dppc_chromefulVideoPlayedIV")):E||(E=!0,k.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){g&&(q(0,h,m),n(l))}}],disabledViewIds:t})},loadMediaIntoAiry:function(a,b,c){a&&a.getMediaSourceInfo()!==b.url&&
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}})},showUnavailable:function(a){a&&(d("#imageBlock .unvailableVariation").html(a),d("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){d("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:q,toggleVideoCaption:n,selectThumbnail:r,spinner:function(a,b){var c=d("#imageBlock .a-spinner").parent();
0===c.length&&(c=d("<div></div>").append(d("<span></span>").addClass("a-spinner").addClass("a-spinner-medium")),a.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+
a},ajaxState:t,getIndexForVariant:A,getImageHash:y,lazyLoadingRequired:function(a,b,c){b=Math.max(A(a.color,b.getCurrentItem().variant,c),0);b=-1!==y(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==t(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled}}});v.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils","postMetric").register("ImageBlockHeroImageView",function(u,d,
f,k,c){function a(a,b,c,g){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var h=t.getCurrentItem();if(!g||"chromeless-video"!==h.type||!r.autoplayVideo){g=0;if("hero-image"===h.type){g=e(h.color,h.variant);if(-1===g)return;g=-1!==g?g:0}var l=b+g;l>=c&&(g=0,l=b);b=k.getHeroImageHash(r,h.color,g);-1!==b&&(A.dispatch("updateModel",{data:{index:g,thumbnailIndex:l,variant:b.variant,type:"hero-image"}}),b=a.find(".item").get(l),f.selectGivenThumbnail(d(b),a))}}}function b(b,c,e){if("hero-video"===
t.getCurrentItem().type)return b;c=r.heroImage&&r.heroImage[c];var g=b;f.isDefined(c)&&(d.each(c,function(a,c){b<r.maxAlts&&(f.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,y),b++)}),a(y,g,b,e));return b}function e(a,b){var c=r.heroImage;if(1>c.length||!f.isDefined(c[a])||!f.isDefined(b))return-1;var e=-1;d.each(c[a],function(a,c){c.variant===b&&(e=a)});return e}function h(){if(w.length&&r.repositionHeroImage){var a=k.getHeroDimParams(r,t.getCurrentItem()),
b;f.isDefined(a)&&(b=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",w.css({"background-position":b,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px "}),v.length||w.css({filter:"","-ms-filter":""}))}}function g(a,b,c,d){if(w.length&&a&&b){if("function"===typeof c||d){var e=new Image;e.onload=d?function(){v.length&&w.fadeIn(2E3,function(){v.css("background-image",'url("")')});w.css("background-image",'url("'+a+'")')}:c;e.src=a}c=
b[1];var e=b[0],g;d||w.css({"background-image":'url("'+a+'")'});r.repositionHeroImage&&(b=k.getHeroDimParams(r,t.getCurrentItem(),b),f.isDefined(b)&&(c=b.width,e=b.height,g=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));w.css({"background-position":g,"background-size":c+"px "+e+"px ","max-width":c+"px ","min-height":e+"px "});v.length||w.css({filter:"","-ms-filter":""})}}function l(a,b,c,e){a=k.getHeroImageHash(r,a,b);if(-1===a)return-1;b=d.map(a.main,function(a,b){return b})[0];
g(b,a.main[b],c,e)}function m(a,b,c){if("hero-image"!==a.type)return-1;var d=e(a.color,t.getCurrentItem().variant),d=-1!==d?d:0;if(-1===k.getHeroImageHash(r,a.color,d))return-1;var g=t.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=d;q(a,b,c)}function q(a,b,c){var d=k.getHeroImageHash(r,a.color,a.index),e;e=a&&p&&u.equals(a,p)?!0:!1;p||(p=a);if(!e&&a||b)l(a.color,a.index,b,c),p=a;w.removeClass("hide-background");u.trigger("dp:image-block:update",d)}var n,
r,t,A,y,w,v,p={};return function(a,c,e,g){n=this;r=a;t=c;A=g;r.heroImage[r.landingAsinColor]=r.heroImage[r.defaultColor];n.render=function(a,c,e,g,f,h,k){y=g;w=d("#heroImage");v=d("#heroImageLowRes");a=b(c,a,h);m(t.getCurrentItem(),k,h);return a};n.update=function(a){var b=a.data;"ingress"!==b.type&&w.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=t.getCurrentItem().type,-1!==m(b)&&(a.captured=!0)):"hero-image"===b.type&&(q(b),"click"!==a.type&&r.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,
y))};A.register("resize",h)}});v.when("A","jQuery","imageBlockUtils","postMetric","ImageBlockAltImageView").register("ImageBlockAltImageIngressView",function(u,d,f,k,c){var a,b,e,h;return function(c,d,f,k){a=this;b=c;e=k;a.render=function(c,d,e,g,f,k,l){h=g;a=this;e=b.maxAlts;g=d;f=b.colorImages[c].length;k=b.useChildVideos&&b.colorToVideo[c]?b.colorToVideo[c].length:b.videos?b.videos.length:0;c=b.heroImage[c];l=0;c&&(l=c.length);c=f+k+l;c>e&&(e=c-e,c=h.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
e+="+",g={type:"ingress",index:0,thumbnailIndex:d,variant:""},c.find("#altIngressText").append(e),u.declarative.create(c,"thumb-action",g),h.append(c),g=d++);return g};a.update=function(a){"ingress"===a.data.type&&"click"===a.type&&e.dispatch("imageClick",a)}}});v.when("A","jQuery","imageBlockUtils").register("ImageBlockState",function(u,d,f){return function(d,c){this.getImageHash=function(a){var b=c.getCurrentItem();a=f.getIndexForVariant(b.color,a||"MAIN",d);return f.getImageHash(b.color,
a,d)}}});v.when("A","jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(u,d,f){function k(a,c){var d;if(c.repositionHeroImage){d=a[1];var g=a[0];if(768>=(w.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,g*=.7;else{var f=((w.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,f=Math.max(Math.min(f,1),0);d*=.7+.3*f;g*=.7+.3*f}d=[d,g]}return d}function c(a,c,d){var g;if(d.repositionHeroImage){var k=
w.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(f.isDefined(d)){g=Math.max((k-Math.min(1500,a))/2,0);var m=Math.max((k-a)/2,0);g-=m;k=Math.max(Math.min(k,1500),1024);g=g+(k-420-23)/2-a/c[1]*d}}return g}function a(a,c,h){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][h])&&f.isDefined(a[c][h].main))||1>d.map(a[c][h].main,function(a,b){return b}).length?-1:a[c][h]}return{getHeroImageHash:a,getHeroDimParams:function(b,e,h){if(b.repositionHeroImage){if(!f.isDefined(h)){h=
a(b,e.color,e.index);if(-1===h)return;e=d.map(h.main,function(a,b){return b})[0];h=h.main[e]}e=k(h,b);b=c(e[0],h,b);return{height:e[1],width:e[0],xPos:b,yPos:75}}}}})})})(function(){var v=window.AmazonUIPageJS||window.P,w=v._namespace||v.attributeErrors;return w?w("DetailPageImageBlockAssets"):v}(),window);